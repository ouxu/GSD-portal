(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{aArQ:function(e,t,n){"use strict";n.r(t);var o=n("q1tI"),i=n.n(o),a=n("2Taf"),r=n.n(a),u=n("vZ4D"),s=n.n(u),c=n("l4Ni"),l=n.n(c),f=n("ujKo"),d=n.n(f),h=n("MhPg"),g=n.n(h),p=n("usdK"),m=n.n(p),v=n("mKLR"),k=n("5DSb"),w=n("p0pE"),y=n.n(w),S=n("io9h"),A=n("He8V"),b=function(){function e(){r()(this,e)}return s()(e,null,[{key:"noticeAlert",value:function(e,t,n){Object(A["alert"])(y()({type:e,text:t},n))}},{key:"success",value:function(e,t){this.noticeAlert("info",e,t)}},{key:"error",value:function(e,t){this.noticeAlert("error",e,t)}},{key:"warning",value:function(e,t){this.noticeAlert("warning",e,t)}},{key:"info",value:function(e,t){this.noticeAlert("info",e,t)}},{key:"neutral",value:function(e,t){this.noticeAlert("neutral",e,t)}}]),e}(),E=b,I=window.localStorage.getItem("gsd-token"),j={maxCache:10,prefix:"http://127.0.0.1:3003/api"},x=Object(S["a"])(y()({},j,{headers:{token:I}})),K=Object(S["a"])(j),C=function(e){var t=function(t){function n(e){var t;return r()(this,n),t=l()(this,d()(n).call(this,e)),t.initUser=function(){x("/user/info/me").then(function(e){e.success?(t.setState({user:e.data,loading:!1}),m.a.replace("/console/home")):t.setState({user:{},loading:!1})})},t.login=function(e){K.post("/user/login/",{data:e}).then(function(e){e.success?(t.setState({user:e.data}),window.localStorage.setItem("gsd-token",e.data.token),setTimeout(function(){m.a.push("/console/home"),E.success("\u767b\u5f55\u6210\u529f")})):E.error(e.message)})},t.logout=function(){E.success("\u767b\u51fa\u6210\u529f"),t.setState({user:{}}),window.localStorage.removeItem("gsd-token")},t.state={user:{},loading:!0,login:t.login,logout:t.logout},t}return g()(n,t),s()(n,[{key:"componentDidMount",value:function(){this.initUser()}},{key:"render",value:function(){var t=this.state.loading,n=void 0===t||t;return n?i.a.createElement(k["default"],null):i.a.createElement(v["a"].Provider,{value:this.state},i.a.createElement(e,this.props))}}]),n}(o["Component"]);return t};t["default"]=C(function(e){return i.a.cloneElement(e.children,e)})},mKLR:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var o=n("q1tI"),i=n.n(o),a=i.a.createContext({user:{},updateUser:function(){}})}}]);